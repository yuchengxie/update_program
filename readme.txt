实现软件自动在线升级 设计概要

两个程序，一个是主程序；一个是升级程序；所有升级任务都由升级程序完成。

　1.启动升级程序，升级程序连接到网站，下载新的主程序（当然还包括支持的库文件、XML配置文档等）到临时文件夹；

　2.升级程序获取服务器端XML配置文件中新版本程序的更新日期或版本号或文件大小；

　3.升级程序获取原有客户端应用程序的最近一次更新日期或版本号或文件大小，两者进行比较；如果发现升级程序的日期大于原有程序的最新日期，则提示用户是否升级；或者是采用将现有版本与最新版本作比较，发现最新的则提示用户是否升级；也有人用其它属性如文件大小进行比较，发现升级程序的文件大小大于旧版本的程序的大小则提示用户升级。本文主要采用比较新旧版本更新日期号来提示用户升级。

　4.如果用户选择升级，则获取下载文件列表，开始进行批量下载文档；(包括.zip.xml)

　5.升级程序检测旧的主程序是否活动，若活动则关闭旧的主程序；

　6.删除旧的主程序，拷贝临时文件夹中的文件到相应的位置；

　7.检查主程序的状态，若状态为活动的，则启动新的主程序；

　8.关闭升级程序，升级完成。